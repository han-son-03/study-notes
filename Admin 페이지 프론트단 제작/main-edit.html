<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì‹ ê·œ ë“±ë¡ ìƒí’ˆ</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="main(ìˆ˜ì •).css" />
  </head>
  <body>
    <div class="container">
      <div class="top-bar">
        <h2>ì‹ ê·œ ë“±ë¡ ìƒí’ˆ</h2>
        <div class="time-display" id="timeDisplay">ë‚ ì§œ ë¡œë”©ì¤‘...</div>
      </div>

      <div class="search-bar">
        <select>
          <option disabled selected>ì¹´í…Œê³ ë¦¬</option>
          <option>ìƒì˜</option>
          <option>í•˜ì˜</option>
          <option>ì‹ ë°œ</option>
          <option>íŒ¨ì…˜ì¡í™”</option>
        </select>

        <input type="text" placeholder="ì œí’ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" />

        <select>
          <option disabled selected>ì„±ë³„ ì„ íƒ</option>
          <option>ë‚¨ì</option>
          <option>ì—¬ì</option>
          <option>ê¸°íƒ€</option>
        </select>

        <button>ì¡°íšŒ</button>
        <button
          class="btn btn-primary btn-sm"
          onclick="location.href='join.html'"
        >
          íšŒì› ê°€ì…
        </button>
      </div>

      <table>
        <thead>
          <tr>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ë¸Œëœë“œ</th>
            <th>ìƒí’ˆëª…</th>
            <th>ê°€ê²©</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>ìƒì˜</td>
            <td>Supreme</td>
            <td>ìŠˆí”„ë¦¼ ë°•ìŠ¤ë¡œê³  í›„ë“œí‹°</td>
            <td>390,000</td>
          </tr>
          <tr>
            <td>í•˜ì˜</td>
            <td>DIESEL</td>
            <td>ë””ì ¤ íŠ¸ë™ íŒ¬ì¸ </td>
            <td>188,000</td>
          </tr>
          <tr>
            <td>ì‹ ë°œ</td>
            <td>Nike</td>
            <td>ì—ì–´í¬ìŠ¤ 1</td>
            <td>137,000</td>
          </tr>
          <tr>
            <td>íŒ¨ì…˜ì¡í™”</td>
            <td>Music&Goods</td>
            <td>ë½€ë¹µì´ í‚¤ë§</td>
            <td>29,000</td>
          </tr>
        </tbody>
      </table>

      <div class="pagination">
        <button>Previous</button>
        <button class="active">1</button>
        <button>2</button>
        <button>3</button>
        <button>Next</button>
      </div>
    </div>

    <!-- ë‹¤í¬ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
    <button
      class="darkmode-toggle"
      onclick="toggleDarkMode()"
      title="ëª¨ë“œ ì „í™˜"
      id="modeIcon"
    >
      ğŸŒ™
    </button>

    <script>
      // ì‹¤ì‹œê°„ ë‚ ì§œ/ì‹œê°„ í‘œì‹œ
      function updateTime() {
        const now = new Date();
        const formatted = now.toLocaleString("ko-KR");
        document.getElementById("timeDisplay").textContent = formatted;
      }
      setInterval(updateTime, 1000);
      updateTime();

      // ë‹¤í¬ëª¨ë“œ í† ê¸€
      function toggleDarkMode() {
        document.body.classList.toggle("light-mode");

        const icon = document.getElementById("modeIcon");
        icon.textContent = document.body.classList.contains("light-mode")
          ? "â˜€ï¸"
          : "ğŸŒ™";
      }
    </script>
    <!-- ë°ì´í„° ë² ì´ìŠ¤ -->
    <div id="product-list" class="container mt-4 d-flex flex-wrap"></div>
    <script>
      async function fetchProducts() {
        try {
          const response = await fetch("http://127.0.0.1:5000/api/products");
          const products = await response.json();

          const container = document.getElementById("product-list");
          container.innerHTML = "";

          products.forEach((product) => {
            const card = document.createElement("div");
            card.className = "card m-2 p-2";
            card.innerHTML = `
          <h5>${product.name}</h5>
          <p><strong>ë¸Œëœë“œ:</strong> ${product.brand}</p>
          <p><strong>ì¹´í…Œê³ ë¦¬:</strong> ${product.category}</p>
          <p><strong>ê°€ê²©:</strong> ${product.price}</p>
        `;
            container.appendChild(card);
          });
        } catch (error) {
          console.error("ìƒí’ˆì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤:", error);
        }
      }
      window.addEventListener("DOMContentLoaded", fetchProducts);
    </script>
  </body>
</html>
